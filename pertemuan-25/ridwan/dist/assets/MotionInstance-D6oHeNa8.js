import{k as o}from"./register-B1JstNQ6.js";import"./bootstrap.esm-BouezZmv.js";const r=1,c=0,s=1;class l{constructor(n,i){this._handleMotionChange=e=>{const t=this._container,a=t.actualOptions.motion;a&&(e.matches?a.disable?t.retina.reduceFactor=c:t.retina.reduceFactor=a.reduce.value?s/a.reduce.factor:r:t.retina.reduceFactor=1)},this._container=n,this._engine=i}async init(){const n=this._container,i=n.actualOptions.motion;if(!(i&&(i.disable||i.reduce.value))){n.retina.reduceFactor=1;return}const e=o("(prefers-reduced-motion: reduce)");if(!e){n.retina.reduceFactor=r;return}this._handleMotionChange(e);const t=()=>{(async()=>{this._handleMotionChange(e);try{await n.refresh()}catch{}})()};e.addEventListener!==void 0?e.addEventListener("change",t):e.addListener!==void 0&&e.addListener(t),await Promise.resolve()}}export{l as MotionInstance};
