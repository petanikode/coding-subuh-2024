<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Latihan oject</title>
  
</head>
<body id="app">
  <script>

    var chargingInterval;
    var discchargingInterval;
    
    var phone = {
      name: "Samsung",
      wifiOn: false,
      cellularDataOn: false,
      battery: 90,
      toggleWifi: function(){
      this.wifiOn = !this.wifiOn;
      },
      toggleCellularData: function(){
        this.cellularDataOn= !this.cellularDataOn;
      },
      charging: function() {
        if(this.battery >= 100){
          alert(`${this.battery}%, batteray is full`);
          // clear interval setelah full charging
          clearInterval(chargingInterval);
          return;
        }
        this.battery++;
      },    
    };

    showPhone();
  
    function showPhone() {
      const {name, wifiOn, cellularDataOn, battery} = phone;
      
      const displayTemplate = `
      <h1>${name}</h1>
      <p>
       Battery : <progress value="${battery}" max="100"></progress>${battery}%
       </p>
       <p>WIFI: ${wifiOn ? "On" : "Off"}</p>
       <p>Data: ${cellularDataOn ? "ON" : "OFF"}</p>

       <hr>
      <button onclick = "toggleWifi()" >Toggle Wifi</button>
      <button onclick = "toggleData()" >Toggle Data</button>
      <button onclick = "startCharging()" >⚡️ Charging</button>
      `;
      document.getElementById("app").innerHTML = displayTemplate;
    }

    function toggleWifi(){
      phone.toggleWifi();
      showPhone();
    }

    function toggleData(){
      phone.toggleCellularData();
      showPhone();
    }

    function startCharging(){
      chargingInterval = setInterval(function(){
        phone.charging();
        showPhone();
      },1000)
    
    }

    

   
  </script>
  
</body>
</html>